{"name":"Blkswan","tagline":"NPM package for easy migrations using mysql. ","body":"## NPM package for easy migrations using mysql. \r\n\r\n#### Features\r\n  - Provide easy command line migration file generation\r\n  - MySql syntax mapper for migration files\r\n  - Auto migrations for migrating: up, all, down, and reset\r\n  - Migration tracker for keeping track of migration\r\n\r\n#### Install\r\nMake sure blkswan is installed globally\r\n```\r\n$ sudo npm install -g blkswan\r\n```\r\n\r\nRun all commands from the root directory of your project\r\n\r\nEnsure mysql package is installed for acessing the database\r\n```\r\n$ npm install mysql\r\n```\r\n\r\n\r\n#### Setup\r\nThis step is optional. It will setup a migrations folder and add config files to your .gitignore.\r\n\r\n```\r\n$ blkswan migrate:setup\r\n```\r\n\r\nNow go into migrations/db.conf.js and enter config variables.\r\n\r\n#### Install\r\n\r\n```\r\n$ blkswan migrate:install\r\n```\r\n\r\nThis will add a migrations table to your database\r\n\r\n#### Create migrations\r\n```\r\n$ blkswan migrate:create migration_name\r\n```\r\n\r\nThis will create a file in your migrations directory with boilerplate code\r\n\r\n-- Or --\r\n\r\n```\r\n$ blkswan migrate:create create_users_books_table\r\n```\r\n\r\nThis will create code for creating a users_books table\r\n\r\nYou can also give params\r\n\r\n```\r\n$ blkswan migrate:create create_book_table name author --int=num_pages publisher --int=year_published\r\n```\r\n\r\n#### Running migrations\r\nRunning all migrations is default behaviour\r\n```\r\n$ blkswan migrate\r\n```\r\n\r\nOther options include\r\n```\r\n$ blkswan migrate:one\r\n$ blkswan migrate:reset\r\n$ blkswan migrate:down\r\n```\r\n\r\nOne: migrates the next single migration\r\n\r\nReset: rolls back all migrations\r\n\r\nDown: rolls back the last migration\r\n\r\n\r\n## Migration Files\r\nMap json objects to mysql queries\r\n\r\n#### Creating a table\r\nGeneral syntax\r\n```\r\nexports.up = {\r\n\t\"table_name\":{\r\n\t\t\"id\":{\"type\":\"increments\"},\r\n\t\t\"email\":{\"type\":\"string\", \"null\":false, \"length\":\"10\"},\r\n\t\t\"level\":{\"type\":\"double\", \"default\":\"1.618\"}, \r\n\t\t\"exact_level\":{\"type\":\"double\", \"length\":\"9\", \"decimal\":\"4\"},\r\n\t\t\"my_index\":{\"type\":\"index\", \"column\":\"level\"},\r\n\t\t\"created_at\":{\"type\":\"timestamp\",\"time\":\"NOW\"}\r\n\t}\r\n}\r\n```\r\n###### Available types\r\n  - String or String defaults to length of 256\r\n  - Increments: creates a auto incrmenting table with a primary id\r\n  - Int or Integer defaults to length of 10\r\n  - Small one digit int\r\n  - Longtext\r\n  - Datetime\r\n  - Timestamp\r\n  - Date\r\n  - Double with length and decimal params defaults to double(7,4)\r\n  - Index\r\n\r\n###### Other params\r\n  - \"Unsigned\":true\r\n  - \"Null\":false\r\n  - \"Default\":\"blkswan\"\r\n  - \"Unique\":true\r\n  - \"Unsighed\":true\r\n  \r\n#### Drop table syntax\r\n```\r\nexports.down = {\"drop\":\"table_name\"}\r\n```\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}